## Builder Pattern

<small>*p. 244*</small>

<small>| **한 줄 소개** | 복잡한 객체의 구조와 접근을 간단하게 표현하는 방법 </small>

<br/>

빌더 패턴은 추상 팩토리를 확장하여 크고 복잡한 객체를 생성할 수 있음

<br/>

## 5.1 건축물

builder의 사전적 의미는 ‘건축물을 짓는 사람 또는 회사’

즉 커다란 구조의 큰 물체를 설계하고 만드는 것을 의미함

<br/>

### 5.1.1 객체 생성

생성 패턴의 주요 목적은 **객체의 생성 과정을 한 곳에 집중화**하는 것.

패턴을 사용하여 객체의 생성 관리하는 이유는 인스턴스화 과정에서 발생하는 강력한 의존 관계를 해소하기 위함

객체 지향에서 객체의 종류 - 단일 객체, 복합 객체

기본적으로 클래스는 하나의 객체. 단일 객체란 하나의 클래스로 생성된 객체

객체는 데이터와 행동을 가지며 때로는 객체를 확장하기 위해 상속 구조를 적용 (팩토리, 팩토리 메서드, 추상 팩토리 모두 단일 객체)

<br/>

### 5.1.2 복합 객체

상속 - 전형적인 클래스 확장 방식

상속은 상위 클래스를 is-a 관계로 포괄하여 큰 규모의 객체를 생성하는 기법

상속에서는 강력한 상하 결합 관계와 불필요한 모든 행위까지 포함된다는 단점도 있음

객체 지향에서는 상속의 단점을 개선하기 위해 의존성 주입을 사용. 의존성을 통해 복합 객체를 생성하여 사용하는 것을 권장함. 복합 객체란 하나의 객체가 다른 객체를 포함하는 관계 구조

복합 객체는 구조적 의존 관계를 통해 객체를 확장함

<br/>

복합 객체는 **객체가 생성된 후에도 다른 객체와 관계를 설정해 동적 확장할 수 있다는 장점**을 가짐

많은 디자인 패턴의 원리와 목적은 **상속 결합을 배제하고 의존 관계의 복합 객체로 변경하여 처리**하는 것

<br/>

### 5.1.3 복잡한 객체

복합 객체는 내부적으로 다른 클래스의 객체를 포함하고 관계 설정을 추가로 해줘야 하므로 객체를 생성하는 과정이 단일 객체보다 복잡함

복합 객체를 생성할 때는 객체의 구조 순서에 맞게 단계별로 실행됨

복합 객체 사용을 중요시하는 것이 최신 객체 지향 트렌드이지만 팩토리, 팩토리 메서드, 추상 메서드 패턴으로는 복합 객체를 생성할 수 없음

기존 생성 패턴의 한계로 인해 복합 객체 생성을 처리할 수 있는 또 다른 패턴이 필요해졌고, 빌더 패턴은 복잡한 구조의 복합 객체를 생성하는 로직을 별도로 분리하여 객체 생성을 처리함

<br/>
## 5.2 객체 실습

복합 객체는 하나의 객체가 다른 클래스의 객체를 초함한다는 특징을 가짐

<br/>

### 5.2.1 기본 클래스

<br/>

### 5.2.2 객체의 구성

복합 객체는 다른 클래스의 객체를 포함

복합 객체가 다른 객체를 갖는 방법은 다양한데, 먼저 내부적으로 직접 관련된 클래스의 객체를 생성할 수 있음

객체 생성자를 통해 관련 있는 객체들을 생성 결합할 수  있으며, 간단한 팩토리 패턴과 같이 메서드를 활용해 관련된 객체를 생성할 수도 있음

객체를 직접 생성하는 방법 외에 외부로부터 객체의 의존성을 전달받을 수도 있음

디자인 패턴에서 복합 객체의 구성은 의존성 주입 형태가 권장되며 의존성 주입이 이루어진 객체들은 복합 객체의 내부 프로퍼티에 저장됨. 기본 객체 안에 선언된 속성 프로퍼티는 외부에서 전달받은 객체를 담음

프로퍼티에 저장된 객체는 속성에 따라 접근을 제한(접근지정자)할 수 있음

의존성 주입이 이루어진 객체의 접근 권한을 설정할 때는 몇 가지 로직이 추가됨

private, protected 속성은 외부에서 프로퍼티에 직접 접근할 수 없음. 접근 권한 관리를 위한 별도의 메서드(getter, setter)를 추가해야하지만, 코드의 양이 늘어나고 번거로움

하지만 객체의 접근을 제한하고 은닉성을 가질 수 있다는 점에서 같이 작성하는 것이 좋음

<br/>

### 5.2.3 부속 클래스