## Observer Pattern

<small>*p. 404*</small>

<small>| **한 줄 소개** | 상태 변화가 있을 때 직접 처리하지 않고, 변화에 대한 행위를 독립된 객체로 분리하고 상태를 통보함. 수신자는 전달 받은 상태의 객체를 호출함 </small>

<br/>

# 18.1 감시자

### 18.1.1 관찰

반복문 + 조건문을 이용한 감시 코드 : 코드의 로직이 다른 값(상태)에 의존해서 동작하는 경우

<br/>

### 18.1.2 상태 변화

상태값을 하나하나 관찰하면서 동작하는 것은 비효율적이며, 성능을 저하시키는 요인

직접 상태값을 관찰하는 것이 아니라 수동적으로 상태값을 전달 받아 처리하는 패턴이 바로 감시자<small>Observer</small> 패턴

<br/>

### 18.1.3 통보

직접 상태값을 관찰하지 않고 수동적으로 상태값을 전달 받는 방법은 바로 상태가 변경됐을 때 통보해주는 것

감시자 패턴에는 주체 Subject 라는 구성 요소가 있음

<br/>

주체 클래스는 상태를 갖고 있고, 이 상태에 변경이 발생했을 때 **실제 동작하는 객체(Observer)에 통보하거나 갱신 작업**을 통보

→ 실제 동작하는 객체는 주체의 상태값을 직접 관찰하지 않고도 상태 변화를 알 수 있음

<br/>

감시자 패턴은 **상태를 감시하는 행동**과 **실제 동작**을 처리하는 행동을 분리해서 구현

<br/>

### 18.1.4 할리우드 원칙

객체지향의 설계 원픽 중 할리우드 원칙이라는 것이 있는데, 영화 산업으로 유명한 할리우드에서 배우를 캐스팅하는 과정 객체에 비유한 데서 만들어진 원칙

<br/>

> 배우가 영화에 출연하기 위해 자신의 프로필을 영화사에 전달한다. 그리곤 캐스팅 상태를 지속적으로 물어보는데, 영화사 입장에서는 매일 연락하는 배우들에게 캐스트이 상태를 통보해주기 어려움
> 
> 
> 그래서 영화사는 모든 배우에게 “앞으로 연락하지 말고 캐스팅되면 저희가 연락 드리겠습니다”라고 공지하고, 배우는 캐스팅 상태를 영화사에 물어보지 않은 채 통보를 기다리는 것. 다른 비유로는 입사시험을 치른 후 합격통지를 기다리는 취업 준비생을 들 수 있음.
> 

<br/>

감시자 패턴은 할리우드 원칙을 적용한 패턴 구현