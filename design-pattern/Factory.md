## Factory Pattern

<small>| **한 줄 소개** | *객체의 생성 동작을 별도 클래스로 분리하여 처리하거나 별도의 메서드를 호출하여 객체의 생성 동작을 처리. </small>

⚠️ Simple Factory는 실제로 디자인 패턴이 아니라 프로그래밍 관용어에 가까움 


<br />

프로그램 내에서 객체 생성이 필요한 경우 분리 설계된 팩토리 객체에 생성을 위임. 즉, 실제 코드가 new 키워드를 직접 사용하지 않고 팩토리의 객체를 호출하는 것으로 대체 → **느슨한 결합 관계로 변경**

객체를 생성하고 캡슐화하여 위임하는 것 → 공장

<br />

### 장점

✔️ 객체의 생성 처리를 동적으로 위임하기 때문에 향후 클래스가 추가되거나 변경돼도 **코드를 쉽게 수정**할 수 있음

✔️ 중복된 코드 정리

✔️ 유연성과 확장성이 개선 

클래스 이름이 변경돼도 코드를 일일이 수정하지 않고 팩토리 객체를 통해 손쉽게 변경할 수 있음

✔️ 어떤 객체를 생성할지 모르는 **초기 단계 코드에 매우 유용** 

일단 객체를 먼저 호출해서 사용한 후 쉽게 수정할 수 있기 때문

<br />

### 단점

✔️ 별도의 새로운 클래스 필요

✔️ 관리할 클래스 파일이 늘어남 → 단순 팩토리로 해결 가능

<br />

### 단순 팩토리 simple factory

팩토리 패턴의 특징과 처리 로직을 간략하게 작성. 별개의 Factory 객체를 생성하지 않고 자신의 객체에 필요한 객체를 생성하는 전용 메서드를 추가. 생성자 패턴 중 가장 많이 사용.

<br />

### 1.4.3 생성 위임

생성 패턴에서는 객체 생성을 위임하여 별개의 클래스로 분리하고, 객체 생성 과정을 담당할 별도의 클래스를 선언함. 프로그램 내에서 필요한 객체를 생성하고 관리하는 캡슐화된 클래스를 선언하는 것.’

프로그램 내에서 객체 생성이 필요한 경우 분리 설계된 팩토리 객체에 생성을 위임

즉 실제 코드가 new 키워드를 직접 사용하지 않고 팩토리의 객체를 호출하는 것으로 대체

이와 같이 객체의 요청과 생성을 별도의 클래스로 분리함으로써 느슨한 결합 관계로 변경함

또한 이처럼 디자인 패턴에서 객체를 생성하고 캡슐화하여 위임하는 것을 공장factory라고 함

공장은 무언가 만들어내는 곳을 의미 

<br />

### 1.4.4 객체 공장

팩토리 패턴에서는 새로운 객체를 생성할 때 `new`  키워드를 코드에 직접 작성하지 않고, 일정한 규격에 맞춘 메서드나 함수를 이용함

팩토리 패턴은 클래스를 생성하는 방법이라고 이해하면 쉬움. 팩토리 패턴에서는 객체 생성 처리를 규격화하여 관리함

마치 공장에서 물건을 찍어내듯이 객체를 생성한다는 의미에서 팩토리 패턴이라고 부름

팩토리는 객체의 생성 작업을 분리하며 분리된 객체의 생성 처리는 방법에 따라 크게 2가지로 나눌 수 있음.

<br />

- 클래스로 분리
- 메서드로 분리

<br />

일반적인 팩토리는 개별 클래스로 분리해 위임을 처리하는 방법을 말함

이와 달리 단순 팩토리simple factory 패턴은 기존 클래스에 생성 메서드만 추가하여 객체를 생성/처리함 

<br />

## 1.5 팩토리 패턴

팩토리 패턴은 객체 생성을 위임할 수 있는 클래스를 정의함. 

팩토리 패턴의 클래스는 객체 생성을 담당하고 객체의 생성을 느슨한 관계가 되도록 처리

<br />

### 1.5.1 느슨한 결합

```java
class Factory {
	public static Korean getInstance() {
		System.out.println("Factory: 객체 생성 후 반환");
		return new Korean();
	}
}
```

<br />

### 1.5.2 동적 팩토리

팩토리 패턴은 분리된 factory 클래스의 객체를 통해 필요로 하는 모든 객체의 생성을 위임

팩토리 패턴은 강력한 결합 관계 발생을 줄이고, 코드에서 `new` 를 직접 사용하지 않고도 객체를 생성함

```java
class Hello {
	public String greeting() {
		Factory factory = new Factory();

		Korean ko = factory.getInstance();
		return ko.text();
	}
}
```

<br />

```java
class Main {
	public static void main() {
		Hello obj = new Hello();
		obj.greeting();
	}
}
```

강력한 의존 관계를 분리하고 느슨한 의존 관계로 변경됨

또한 객체 생성을 다른 객체에 위임함으로써 내부적인 결합을 제거하고, 동적으로 객체를 관리할 수 있다는 장점이 있음

하지만, 팩토리 패턴을 사용하면 객체를 직접 생성하는 것과 달리 Factory 객체를 통해 호출call하는 처리 과정이 한 단계 더 필요하기 때문에 불필요한 호출 증가로 프로그램 성능 저하를 초래함

<br/>

