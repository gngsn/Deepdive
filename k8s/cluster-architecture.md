# Nodes


쿠버네티스는 노드 위에서 실행되는 Pod 들 내 컨테이너를 배치시키면서 워크로드를 실행합니다.
<small> _Workload: 쿠버네티스에서 동작하는 하나의 애플리케이션_ </small>

하나의 노드는 클러스터에 따라 가상 머신이나 물리 머신일 수 있습니다.
각각의 노드는 컨트롤 플레인에 의해 관리되고 Pod를 싱행시키기 위한 필요 서비스들을 포함합니다.

일반적으로, 한 클러스터 내 여러 개의 노드를 가지는데, 
학습이나 자원이 제한된 상황이라면 하나의 노드를 사용하기도 합니다.

노드에 포함되는 컴포넌트로는 kubelet, 하나의 container runtime, 그리고 the kube-proxy 가 있습니다.

### Management

API 서버에 노드를 추가하는 주요 방법은 두 가지가 있습니다.

1. 노드 위 `kubelet`이 컨트롤 플레인에 스스로 등록
2. 개발자가 직접 노드 객체를 추가

위 방식을 통해 노드가 생성되거나 등록되면, 컨트롤 플레인은 새로운 노드 객체가 유효한지 확인합니다.

예를 들어, 아래와 같이 JSON 매니페스트로 부터 노드를 생성한다고 해봅시다.

```yaml
{
  "kind": "Node",
  "apiVersion": "v1",
  "metadata": {
    "name": "10.240.79.157",
    "labels": {
      "name": "my-first-k8s-node"
    }
  }
}
```

쿠버네티스는 내부적으로 (표현) 노드 객체를 생성합니다.
쿠버네티스는 kubelet이 해당 노드의 `metadata.name` 필드에 매칭되는 API 서버에 등록되었는지 확인합니다.
만약, 노드가 health check에 성공하면 (i.e. 모든 필수적인 서비스가 실행중인지 확인), 이제 Pod를 실행할 수 있습니다.
그렇지 않으면 노드는 healthy 상태가 될 때까지 어떤 클러스터 활동이든 무시합니다.


