# Redis

대규모 서비스를 운영하는 업체는 항상 데이터의 안정적인 저장과 빠른 처리를 원하는데, 
이를 위해 NoSQL, Cache, Redis, Memcache, Sharding 등와 관련된 기술들이 필요하다.

레디스를 어떤 사람은 '캐시Cahce 솔루션'이라고 정의하고, 어떤 사람은 NoSQL의 Key-Value 스토어로 분류하기도 한다.
결국, 공통적인 특징은 **사용하기 쉽고 속도가 빠르다는 것**이다.

<br/><br/>

## Redis의 주요 특성

### ✔️ Key-Value Store

> 단순 스츠링에 대한 Key/Value 구조를 지원

기본적으로 Redis는 Key-Value 형태의 데이터 저장소이며, 아래와 같이 데이터를 저장할 수 있다. 

``` bash
$> set id:username "username"
$> set id:email test@test.com
$> get id:username
```

<br/><br/>

### ✔️ 컬렉션 지원

> List, Set, Sorted Set, Hash 등의 자료 구조를 지원

Redis의 가장 중요한 특징이라고 할 수 있다. 
일반적으로 사용하는 컬렉션은 하나의 서버 내부에서 동작한다.
하지만, Redis를 이용하면 이런 특성을 분산 서버 환경에서 처리할 수 있어서, 전체적인 서비스를 설계하거나 구현할 때 많은 이점을 얻을 수 있다. 

<br/><br/>

### ✔️ Pub/Sub 지원

> Publish/Subscribe 모델을 지원

서버 간 통지가 필요할 때 매우 유용하다.

<br/><br/>

### ✔️ 디스크 저장 Persistent Layer

> 현재 메모리 상태를 디스크로 저장할 수 있는 기능
> 
> 현재까지의 업데이트 관련 명령을 저장할 수 있는 AOF 기능

현재의 메모리 상태를 디스크에 저장할 수 있다. 현재 메모리 상태의 스냅샷을 남지는 'RDB 기능'과 지금까지 실행된 업데이트 관련 명령어의 집합인 AOF가 있다.
덤프한 내용은 다시 메모리에 올려서 사용할 수 있다. AOF는 “Append Only File”의 약어로, set/del 등의 업데이트 관련 명령을 받으면 해당 명령어를 그대로 기록해둔다. Redis에서는 가능하면 이 두 개를 모두 사용 하는 것이 좋다고 이야기하지만, 디스크를 사용해서 저장하는 만큼 성능 손실은 어느 정도 감수해야 한다.

**⚠️ 주의**
단순히 이름만 ‘RDB’일 뿐 메모리 내용을 저장하는 기능 이외에는 아무것도 지원하지 않는다.
스냅샷을 남기는 기능의 이름이 ‘RDB’이다 보니 데이터베이스라고 생각해서 데이터베이스의 모든 기능 역시 지원되지 않을까 하지만 아니다.

<br/><br/>

### ✔️ 복제 Replication

> 마스터/슬레이브 구조를 지원

다른 노드에서 해당 내용을 복제할 수 있는 마스터/슬레이브의 Replication 지원한다. 마스터에 장애가 발생하면 슬레이브로 서비스하거나 마스터의 부하가 많을 때에는 슬레이브를 이용해서 읽기를 처리할 수도 있다. 
대규모 서비스에서 Redis를 저장소로 안정적으로 사용하려면 복제 기능응ㄹ 반드시 이용해야 한다. 

<br/><br/>

### ✔️ 빠른 속도

> 초당 100,000QPS(Queries Per Second) 수준의 높은 성능

위의 기능들을 모두 지원하면서도 아주 빠른 성능을 자랑한다. 
Redis를 선택하는 가장 큰 이유라고 할 수 있다. 
초당 50,000 ~ 60,000QPS 이상의 처리 속도가 필요하다면 Redis, Memcached의 선택지 밖에 남지 않을 것이다. 




