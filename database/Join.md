## Join 기법 비교

조인 기법으로는 NL 조인, 소트 머지 조인, 해시 조인 방식이 있고, 집합적인 사고를 바탕으로 적절한 Join Method 선정이 중요하다.
또한 시스템의 특성을 참고하여 적절한 Join Method 선정 또한 중요하다.

<br/><br/>

### 조인 기법 비교

| NL 조인 | 소트 머지 조인 | 해시 조인 |
|--- | ---| --- |
| 순차적 | 동시적 | 동시적 |
| 부분 범위 처리 | 전체 범위 처리 | 전체 범위 처리 |
| 랜덤 액세스 부하 | SORT 부하. PGA 과다 사용 | 첫 번째 집합이 HASH AREA를 초과하면 성능 저하 발생 }
| 조인 조건 중요 | 조인 조건 무관 | 조인 조건이 `=` 조건이어야 함 |
| 조인 순서 매우 중요 | 조인 순서 무관 | 조인 순서 매우 중요 |
| 온라인 프로그램 | 배치 프로그램 | 배치 프로그램 |

대량의 테이블에서 소량의 범위만 부분 범위처리로 가져올 대, 혹은 대량의 테이블에서 극소량의 데이터를 가져올 때는 NL 조인이 유리하고, 대량의 배치 프로그램 처리를 할 때는 해시 조인이 유리한 것을 알 수 있다. 소트 머지 조인은 최근에는 잘 하지 않는 추세이다.

<br/><br/>

### 조인 순서의 중요성 

| 항목 | 설명 | 비고 |
|--- | ---| --- |
| First Table | - 2개의 Table을 조인할 경우 먼저 처리되는 테이블을 의미 <br> - Where 절에 상수/바인드 변수 조건이 존재하는 것이 성능상 유리 | - Outer Table <br> - Driving table <br> - Build Input |
| Second Table | - 2개의 테이블을 조인할 경우 뒤에 처리되는 테이블을 의미 <br> - First Table로부터 입력값을 받아서 처리 <br> - 조인 조건의 여부 및 성질이 조인 조건의 성능에 영향을 미침 <br> - (NL 조인의 경우)조인 조건 및 상수/바인드 변수 조건에 인덱스 존재 여부가 매우 중요 | - Inner Table <br> - Driven Table <br> - Probe Input |
| 최적화된 Join Order | - (NL, 해시 조인의 경우) First Table이 Second Table에 비해서 작은 집합이어야 유리 | |